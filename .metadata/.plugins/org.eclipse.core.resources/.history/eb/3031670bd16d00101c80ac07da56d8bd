package com.coforge.training.springweb.controller;

import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;

import jakarta.servlet.http.HttpServletRequest;

/**
* Author :Vivek.Patel
* Date   :Jul 31, 2025
* Time   :10:02:48â€¯AM
* Project:spring-web
*/
@Controller
public class LoginController {
	
	@GetMapping("/login")
	public String showLoginForm() {
		return "login";
	}
	@PostMapping("/process")

	 public String checkUser(HttpServletRequest req, Model m) {

	 String uname=req.getParameter("uname");

	 String password=req.getParameter("psw");

	  if(password.equals("testing"))

	  {

	  String msg="Welcome "+uname;

	  m.addAttribute("message", msg);

	  return "success"; //returns view+model

	  }

	  else

	  {

	  String msg="Sorry "+uname+". You entered Incorrect Password.";

	  m.addAttribute("message", msg);

	  return "errorPage"; //returns view+model

	  }

}
